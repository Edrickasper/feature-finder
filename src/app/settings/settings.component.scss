.overlay {
  position: fixed;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background: rgba(10, 12, 15, 0.45);
  -webkit-backdrop-filter: blur(6px);
  backdrop-filter: blur(6px);

  .popup {
    width: min(560px, 92%);
    background: linear-gradient(135deg, rgba(255,255,255,0.85), rgba(246,249,255,0.82));
    border-radius: 14px;
    padding: 20px 22px;
    box-shadow: 0 10px 30px rgba(12, 20, 40, 0.35);
    border: 1px solid rgba(255,255,255,0.6);
    transform: translateY(-6px);
    transition: transform 160ms ease, box-shadow 160ms ease;

    &:hover {
      transform: translateY(-3px);
      box-shadow: 0 16px 40px rgba(12,20,40,0.45);
    }

    .popup-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 12px;

      h2 {
        margin: 0;
        font-size: 1.15rem;
        letter-spacing: -0.2px;
      }

      .close {
        background: transparent;
        border: none;
        font-size: 20px;
        line-height: 1;
        color: #333;
        cursor: pointer;
        padding: 6px 8px;
        border-radius: 8px;
        transition: background 120ms ease, color 120ms ease;

        &:hover { background: rgba(0,0,0,0.06); }
      }
    }

    section {
      margin-bottom: 16px;
      display: grid;
      grid-template-columns: 1fr;
      gap: 8px;

      .label-title {
        font-weight: 600;
        color: #1f2937;
        display: block;
        margin-bottom: 6px;
        font-size: 0.95rem;
      }

      .options {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;

        label {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          padding: 6px 10px;
          border-radius: 10px;
          font-size: 0.95rem;
          cursor: pointer;
          transition: background 120ms ease, transform 120ms ease;

          input {
            margin: 0;
            accent-color: #2563eb;
            width: 18px;
            height: 18px;
          }

          &:hover { background: rgba(37,99,235,0.06); transform: translateY(-1px); }
        }
      }

      input[type="range"] {
        -webkit-appearance: none;
        width: 100%;
        height: 6px;
        border-radius: 999px;
        background: linear-gradient(90deg,#cfe4ff,#e8f0ff);
        outline: none;

        &::-webkit-slider-thumb {
          -webkit-appearance: none;
          width: 18px;
          height: 18px;
          background: #2563eb;
          border-radius: 50%;
          box-shadow: 0 2px 6px rgba(37,99,235,0.35);
          cursor: pointer;
        }
      }

      input[type="number"] {
        margin-top: 4px;
        width: 120px;
        padding: 8px 10px;
        border-radius: 8px;
        border: 1px solid rgba(16,24,40,0.08);
        background: rgba(255,255,255,0.9);
      }

      input[type="checkbox"] { transform: scale(1.05); }
    }

    .actions {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
      margin-top: 6px;

      .btn {
        padding: 8px 14px;
        border-radius: 10px;
        border: 1px solid transparent;
        cursor: pointer;
        font-weight: 600;
        transition: transform 120ms ease, box-shadow 120ms ease, background 120ms ease;

        &.primary {
          background: #2563eb;
          color: #fff;
          box-shadow: 0 6px 18px rgba(37,99,235,0.18);

          &:hover { transform: translateY(-2px); box-shadow: 0 10px 24px rgba(37,99,235,0.22); }
        }

        &.muted {
          background: rgba(37,99,235,0.06);
          color: #0f172a;
          border-color: rgba(37,99,235,0.08);

          &:hover { background: rgba(37,99,235,0.09); }
        }
      }
    }
  }
}
